<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>The Big Bang Category Theory</title>

    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/npatarino.css">

    <link rel="stylesheet" href="lib/css/monokai.css">

    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>
</head>
<body>
<div class="reveal">
    <div class="slides">
        <section data-background-image="assets/images/cover.webp">
            <p class="fragment" data-audio-src="assets/audio/intro.ogg"></p>
            <aside class="notes">
                En el 2010, un muchachito que estaba re tranquilo en las oficinas de Jetbrains en Rusia cuando dijo:
                "Che, ningún lenguaje cumple con todo lo que yo considero que un lenguaje de programación debería tener.
                Bueno, ninguno menos Scala, pero como tarda muchísimo en compilar, creo que voy empezar a escribir mi
                propio lenguaje de programación, con barcos y data clases, sí, eso es lo que voy a hacer, voy a
                escribir mi propio lenguaje."
                Y se puso a escribir, y se puso a escribir, y se puso a escribir y así finalmente, llegó Kotlin.
                Lo que este muchachito no sabía es que se iba a poner re feliz cuando en 2012 liberó el código fuente,
                pero más feliz se puso cuando en ese mismo año le dijeron que era el lunaguaje del año, pero más feliz
                se puse cuando en 2015 sacaron la primera versión, pero más feliz se puso cuando los desarradores de
                Android lo empezaron a usar, pero más feliz se puso cuando en 2017 Google lo anunció como lenhguaje
                de programación oficial para Android, pero más feliz se puso cuando todos empezaban a decir que
                Kotlin era un lenguaje funcional. Bueno, no sé si se puso tan feliz con eso, pero que se empezó a decir
                se empezó a decir.
            </aside>
        </section>
        <section data-background-image="assets/images/pasadena.webp" data-background-opacity="0.15">
            <h1>Pasadena</h1>
            <h1><i>California</i></h1>
        </section>
        <section data-background-image="assets/images/howard_presentation.webp" data-background-opacity="0.15">
            <h1>Howard <i>Wolowitz</i></h1>
        </section>
        <section data-background-image="assets/images/howard_astronaut.webp" data-background-opacity="0.15">
            <h1>Before <i>Category Theory</i></h1>
        </section>
        <section data-background-image="assets/images/howard_laptop.webp" data-background-opacity="0.15">
            <h1>After <i>Category Theory</i></h1>
        </section>
        <section data-background-image="assets/images/sheldon_board.webp" data-background-opacity="0.15">
            <h1>Sheldon <i>Cooper</i></h1>
        </section>
        <section data-background-image="assets/images/sheldon_board.webp" data-background-opacity="0.15">
            <blockquote>&ldquo;A monad is just a monoid in the category of endofunctors.&rdquo;</blockquote>
        </section>
        <section data-background-image="assets/images/leonard_penny_hands_up.webp" data-background-opacity="0.15">
            <h1>Absolutely <i>lost</i></h1>
        </section>
        <section data-background-image="assets/images/buenos_aires.webp" data-background-opacity="0.15">
            <h1>Nicolás Patarino<br/><i>@npatarino</i></h1>
        </section>
        <section data-background-image="assets/images/leonard_penny_hands_up.webp" data-background-opacity="0.15">
            <h1>Absolutely <i>lost</i></h1>
        </section>
        <section data-background-image="assets/images/gif-big-bang-explosion.webp" data-background-opacity="0.15">
            <h1>Category <i>Theory</i></h1>
        </section>
        <section data-background-image="assets/images/young_sheldon_pointing.webp" data-background-opacity="0.15">
            <blockquote>&ldquo;The maths of the maths&rdquo;</blockquote>
        </section>
        <section data-background-image="assets/images/rajesh-presentation.webp" data-background-opacity="0.15">
            <blockquote>&ldquo;Category is the study how things compose.<br/>Avoid details, just abstractions&rdquo;
            </blockquote>
        </section>
        <section data-background-image="assets/images/amy-presentation.webp" data-background-opacity="0.15">
            <blockquote>&ldquo;Category Theory it’s a graph.<br/>Nodes are Objects and Edges are methods&rdquo;
            </blockquote>
        </section>
        <section data-background-image="assets/images/beverly_hofstader.webp" data-background-opacity="0.15">
            <h1>Teaching <i>methods</i></h1>
        </section>
        <section data-background-image="assets/images/sheldon_crying.webp" data-background-opacity="0.15">
            <h1>Disclaimer</h1>
        </section>
        <section data-background-image="assets/images/sheldon_gollum.webp" data-background-opacity="0.15">
            <h1>The <i>curse</i> of the monad</h1>
        </section>
        <section data-background-image="assets/images/sheldon_gollum.webp" data-background-opacity="0.15">
            <blockquote>
                &ldquo;Once you get the epiphany, once you understand...<br/>
                Oh, that's what a monad is.<br/>
                You lose the ability to explain it to anybody.&rdquo;
                <em>Douglas Crockford</em>
            </blockquote>
        </section>
        <section data-background-image="assets/images/set-big-bang-theory.webp" data-background-opacity="0.15">
            <h1><i>Object oriented</i> programming</h1>
        </section>
        <section data-background-image="assets/images/errors-mask.webp" data-background-opacity="0.15">
            <h1>Decompose problems into smaller ones</h1>
        </section>
        <section data-background-image="assets/images/problems-sword.webp" data-background-opacity="0.15">
            <h1>Compose little parts to have a program</h1>
        </section>
        <section data-background-image="assets/images/sewing.webp" data-background-opacity="0.15">
            <h1>Design <i>patterns</i></h1>
        </section>
        <section>
            <h3>Design <i>patterns</i></h3>
            <ul>
                <li class="fragment">Offer solutions</li>
                <li class="fragment">Offer vocabulary</li>
            </ul>
        </section>
        <section data-background-image="assets/images/bernadette-as-mom.webp" data-background-opacity="0.15">
            <h1><i>Bernadette</i> explanation</h1>
        </section>
        <section data-background-image="assets/images/sheldon_tesla.webp" data-background-opacity="0.15">
            <h1>The indecision <i>amalgamation</i></h1>
        </section>
        <section data-background-image="assets/images/xbox.webp" data-background-opacity="0.15">
            <h1>The indecision <i>amalgamation</i></h1>
        </section>
        <section>
            <h1>The indecision <i>amalgamation</i></h1><img class="fragment" src="assets/images/indecision_1.png"
                                                            alt=""/>
        </section>
        <section data-background-image="assets/images/indecision.webp" data-background-opacity="0.15">
            <h1>The indecision <i>amalgamation</i></h1>
        </section>
        <section data-transition="slide-in none-out">
            <h1>The indecision <i>amalgamation</i></h1>
            <img class="fragment" src="assets/images/indecision_2.png" alt=""/>
        </section>
        <section data-transition="none">
            <h1>The indecision <i>amalgamation</i></h1>
            <img src="assets/images/indecision_3.png" alt=""/>
        </section>
        <section data-background-image="assets/images/indecision.webp" data-background-opacity="0.15">
            <h1>The indecision <i>amalgamation</i></h1>
        </section>
        <section data-transition="slide-in none-out">
            <h1>The indecision <i>amalgamation</i></h1><img src="assets/images/indecision_4.png" alt=""/>
        </section>
        <section data-transition="none-in slide-out">
            <h1>The indecision <i>amalgamation</i></h1><img src="assets/images/indecision_5.png"
                                                            alt=""/>
        </section>
        <section data-background-image="assets/images/sad-hulk.webp" data-background-opacity="0.15">
            <h1>The indecision <i>amalgamation</i></h1>
        </section>
        <section data-transition="slide-in none-out">
            <h1>The indecision <i>amalgamation</i></h1><img class="fragment" src="assets/images/indecision_6.png"
                                                            alt=""/>
        </section>
        <section data-transition="none-in slide-out">
            <h1>The indecision <i>amalgamation</i></h1><img src="assets/images/indecision_7.png"
                                                            alt=""/>
        </section>
        <section data-background-image="assets/images/sheldon_happy.webp" data-background-opacity="0.15">
            <h1>The indecision <i>amalgamation</i></h1>
        </section>
        <section data-transition="slide-in none-out">
            <h1>&nbsp;</h1>
            <img class="fragment" data-fragment-index="1" src="assets/images/indecision_3_functor.png" alt=""/>
        </section>
        <section data-transition="none">
            <h1>&nbsp;</h1><img src="assets/images/indecision_3_functor_2.png" alt=""/>
        </section>
        <section data-transition="none-in slide-out">
            <h1 class="fragment">Functor</h1><img src="assets/images/indecision_3_functor_3.png" alt=""/>
        </section>
        <section data-background-image="assets/images/comeon.webp"></section>
        <section data-transition="slide-in none-out">
            <h1>&nbsp;</h1>
            <img class="fragment" src="assets/images/indecision_7_monad.png" alt=""/>
        </section>
        <section data-transition="none">
            <h1>&nbsp;</h1><img src="assets/images/indecision_7_monad_2.png" alt=""/>
        </section>
        <section data-transition="none-in slide-out">
            <h1 class="fragment">Monad</h1><img src="assets/images/indecision_7_monad_3.png" alt=""/>
        </section>
        <section data-background-image="assets/images/really.webp"></section>
        <section>
            <h1>Functor</h1><img src="assets/images/indecision_3_functor_3.png" alt=""/>
        </section>
        <section>
            <h1>Monad</h1><img src="assets/images/indecision_7_monad_3.png" alt=""/>
        </section>
        <section data-background-image="assets/images/after-bernadette-explanation.webp" data-background-opacity="0.15">
            <h1>Too <i>simple</i></h1>
        </section>
        <section data-background-image="assets/images/amy-explanation.webp" data-background-opacity="0.15">
            <h1><i>Amy</i> explanation</h1>
        </section>
        <section data-background-image="assets/images/star-wars-composition.webp" data-background-opacity="0.15">
            <h1>Basic concepts<br/><i>Composition</i></h1>
        </section>
        <section>
            <h3>Composition</h3>
            <p class="fragment">
                \[\begin{aligned}
                A \xrightarrow{\qquad f\qquad} B \xrightarrow{\qquad g\qquad} C \\
                \end{aligned} \]
            </p>

            <p class="fragment">
                \[\begin{aligned}
                A \xrightarrow{\qquad f \circ g \qquad} C \\
                \end{aligned} \]
            </p>
            <ul style="list-style-type:none">
                <li class="fragment">
                    <pre><code data-trim data-noescape>fun getBottle() : Bottle</code></pre>
                </li>
                <li class="fragment">
                    <pre><code data-trim data-noescape>fun fillGlass(bottle: Bottle)</code></pre>
                </li>
                <li class="fragment">
                    <pre><code data-trim data-noescape>fillGlass(getBottle()) = getBottleAndFillGlass()</code></pre>
                </li>
            </ul>
        </section>
        <section data-background-image="assets/images/young-old.webp" data-background-opacity="0.15">
            <h1>Basic concepts<br/><i>Closure operator</i></h1>
        </section>
        <section>
            <h3>Closure <i>operator</i></h3>
            <pre class="fragment"><code data-trim data-noescape>fun &lt;A&gt; method(a: A): A = work(a)</code></pre>
            <br>
            <pre class="fragment"><code data-trim data-noescape>fun dollarsToEuro(dollars: Double): Double = dollars * 0.89</code></pre>
        </section>
        <section data-background-image="assets/images/superheroes.webp" data-background-opacity="0.15">
            <h1>Basic concepts<br/><i>Associativity</i></h1>
        </section>
        <section>
            <h3><i>Associativy</i></h3>
            <p class="fragment">
                \[\begin{aligned}
                h \circ (g \circ f) = (h \circ g) \circ f \\
                \end{aligned} \]
            </p>
            <ul style="list-style-type: none">
                <li>
                    <pre class="fragment"><code data-trim
                                                data-noescape>fun sum(a: Int, b: Int): Int = a + b</code></pre>
                </li>
                <li>
                    <pre class="fragment"><code data-trim data-noescape>fun validation() = sum(3, sum(4, 5)) == sum(sum(3, 4), 5)</code></pre>
                </li>
            </ul>
        </section>
        <section data-background-image="assets/images/identity.webp" data-background-opacity="0.15">
            <h1>Basic concepts<br/><i>Identity</i></h1>
        </section>
        <section>
            <h3><i>Identity</i></h3>
            <p class="fragment">
                \[\begin{aligned}
                A == A \\
                \end{aligned} \]
            </p>
            <p class="fragment">
                \[\begin{aligned}
                f \circ id_{a} == f == id_{b} \circ f \\
                \end{aligned} \]
            </p>
            <pre class="fragment"><code data-trim data-noescape style="text-align: center">val text = "Big Bang Category Theory".plus("")</code></pre>
            <br>
            <pre class="fragment"><code data-trim data-noescape
                                        style="text-align: center">val number = 2019.plus(0)</code></pre>
        </section>
        <section data-background-image="assets/images/beards.webp" data-background-opacity="0.15">
            <h1><i>Typeclasses</i></h1>
        </section>
        <section>
            <h3>Design <i>patterns</i> ~ Typleclasses</h3>
            <ul>
                <li class="fragment">Offer solutions</li>
                <li class="fragment">Offer vocabulary</li>
                <li class="fragment">Laws of maths</li>
                <li class="fragment">Independence (libraries, technology, languages)</li>
            </ul>
        </section>
        <section data-background-image="assets/images/penny-ape.webp" data-background-opacity="0.15">
            <h1><i>Typeclasses</i></h1>
        </section>
        <section>
            <h3><i>Typeclasses</i></h3>
            <ul>
                <li class="fragment">Monoid</li>
                <li class="fragment">Functor</li>
                <li class="fragment">Applicative</li>
                <li class="fragment">Monad</li>
            </ul>
        </section>
        <section>
            <h3>Monoid</h3>
            <ul>
                <ul>
                    <li class="fragment">Combiner</li>
                    <li class="fragment">method: combine()</li>
                    <li class="fragment">
                        <pre><code data-trim data-noescape style="text-align: center">fun &lt;A&gt; A.combine(b: A): A = this.plus(b)</code></pre>
                    </li>
                </ul>
            </ul>
        </section>
        <section>
            <h3>Monoid - <i>Definition</i></h3>
            <pre><code data-trim data-noescape>
                interface Monoid&lt;F&gt; {

                  fun F.combine(b: F): F

                  fun empty(): F
                }
            </code></pre>
        </section>
        <section>
            <h3>Monoid - <i>Implementation</i></h3>
            <pre class="fragment"><code data-trim data-noescape>
                object StringMonoid : Monoid&lt;String&gt; {

                  override fun String.combine(b: String): String = "${this}$b"

                  override fun empty(): String = ""
                }
            </code></pre>
            <br>
            <pre class="fragment"><code data-trim data-noescape>
                object IntMonoid : Monoid&lt;Int&gt; {

                  override fun Int.combine(b: Int): Int = this + b

                  override fun empty(): Int = 0
                }
            </code></pre>
        </section>
        <section>
            <h3>Monoid - <i>Testing</i></h3>
            <pre class="fragment"><code data-trim data-noescape>a.combine(b).combine(c) = a.combine(b.combine(c))</code></pre>
            <pre class="fragment"><code data-trim data-noescape> a.combine(empty)) = a && empty().combine(a) = a</code></pre>
            <br>
            <pre class="fragment"><code data-trim data-noescape>
                fun &lt;F&gt; Monoid&lt;F&gt;.associativityLaw(a: F, b: F, c: F) =
                  Assert.assertEquals(
                    a.combine(b).combine(c),
                    a.combine(b.combine(c))
                  )
            </code></pre>
            <br>
            <pre class="fragment"><code data-trim data-noescape>
                fun &lt;F&gt; Monoid&lt;F&gt;.identityLaw(a: F) {
                  Assert.assertEquals(a, empty().combine(a))
                  Assert.assertEquals(a, a.combine(empty()))
                }
            </code></pre>
        </section>
        <section>
            <h3>Monoid - <i>Testing</i></h3>
            <pre><code data-trim data-noescape data-line-numbers="6-14">
            class MonoidLawsTest : UnitSpec() {

              init {

                testLaws(
                  Law("Monoids: identityLaw") {
                    StringMonoid.identityLaw("Hedy Lamarr")
                    IntMonoid.identityLaw(1914)
                  },

                  Law("Monoids: associativity") {
                    StringMonoid.associativityLaw("Grace", "Murray", "Hopper")
                    IntMonoid.associativityLaw(9, 12, 1906)
                  }
                )
              }
            }
            </code></pre>
        </section>
        <section data-background-image="assets/images/guys-lost.webp" data-background-opacity="0.15">
            <h1><i>Functor</i></h1>
        </section>
        <section>
            <h3>Functor</h3>
            <ul>
                <ul>
                    <li class="fragment"><i>Transformer</i></li>
                    <li class="fragment">method: map()</li>
                    <li class="fragment">
                        <p>
                            \[\begin{aligned}
                            A \rightarrow map() \rightarrow B \\
                            \end{aligned} \]
                        </p>
                    </li>
                </ul>
            </ul>
        </section>
        <section>
            <h3>Functor - <i>Definition</i></h3>
            <pre><code data-trim data-noescape>
                interface Functor&lt;out F&gt; {

                    fun &lt;B&gt; map(transformation: (F) -> B): Functor&lt;B&gt;

                }
            </code></pre>
        </section>
        <section>
            <h3>Functor - <i>Option</i></h3>
            <pre><code data-trim data-noescape>
                sealed class Option&lt;out F&gt; : Functor&lt;F&gt; {

                    data class Some&lt;F&gt;(val value: F) : Option&lt;F&gt;()

                    object None : Option&lt;Nothing&gt;()

                    override fun &lt;B&gt; map(transformation: (F) -&gt; B): Option&lt;B&gt; = when (this) {
                        is Some -&gt; Some(transformation(value))
                        None -&gt; None
                    }
                }
            </code></pre>
        </section>
        <section>
            <h3>Functor - <i>Option</i></h3>
            <pre><code data-trim data-noescape data-line-numbers="8-9">
                sealed class Option&lt;out F&gt; : Functor&lt;F&gt; {

                    data class Some&lt;F&gt;(val value: F) : Option&lt;F&gt;()

                    object None : Option&lt;Nothing&gt;()

                    override fun &lt;B&gt; map(transformation: (F) -&gt; B): Option&lt;B&gt; = when (this) {
                        is Some -&gt; Some(transformation(value))
                        None -&gt; None
                    }
                }
            </code></pre>
        </section>
        <section>
            <h3>Functor - <i>Either</i></h3>
            <pre><code data-trim data-noescape>
                sealed class Either&lt;out E, out F&gt; : Functor&lt;F&gt; {

                    data class Left&lt;E&gt;(val error: E) : Either&lt;E, Nothing&gt;()
                    data class Right&lt;F&gt;(val value: F) : Either&lt;Nothing, F&gt;()

                    override fun &lt;B&gt; map(transformation: (F) -&gt; B): Either&lt;B, E&gt; = when (this) {
                        is Right -&gt; <span class="fragment fade-out">...</span><span class="fragment">Right(transformation(value))</span>
                        is Left  -&gt; this
                    }
                }
            </code></pre>
        </section>
        <section>
            <h3>Functor - <i>Laws</i></h3>
            <pre class="fragment"><code data-trim data-noescape>
                fun &lt;F&gt; Functor&lt;F&gt;.identityLaw() {
                    Assert.assertEquals(map(::identity), this)
                }
            </code></pre>
            <br>
            <pre class="fragment"><code data-trim data-noescape>
                fun &lt;F, B, C&gt; Functor&lt;F&gt;.associativityLaw(a: (F) -&gt; B,
                                                          b: (B) -&gt; C) =
                    Assert.assertEquals(
                        map(a).map(b), map(a andThen b) // b(a(it))
                    )
            </code></pre>
        </section>
        <section>
            <h3>Functor - <i>Testing</i></h3>
            <pre class="fragment"><code data-trim data-noescape>
                init {
                  testLaws(
                    Law("Functor: identityLaw") {
                      Option.Some("Jude Milhon").identityLaw()
                      Either.Success("Ángela Ruiz Robles").identityLaw()
                    },

                    Law("Functor: associativityLaw") {
                      Option.Some("María Antonia Zorraquino").associativityLaw(toLength(), isEven())
                      Either.Success("Ada Lovelace").associativityLaw(toLength(), isEven())
                    }
                  )
                }
            </code></pre>
        </section>
        <section>
            <h3>Functor - <i>Usage</i></h3>
            <pre><code data-trim data-noescape>
                val optionUser = Option.Some("Lise Meitner")
                val optionNone: Option&lt;String&gt; = Option.None

                val transformed = optionUser.map { it.capitalize() }
                val transformedNone = optionNone.map { it.capitalize() }

                transformed      // Some(value=Lise Meitner)
                transformedNone  // None
            </code></pre>
        </section>
        <section data-background-image="assets/images/applicative-comic-book-store.webp" data-background-opacity="0.15">
            <h1><i>Applicative</i></h1>
        </section>
        <section>
            <h3>Applicative</h3>
            <ul>
                <li class="fragment"><i>Box combiner</i></li>
                <li class="fragment"><i>method: ap()<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pure()</i>
                </li>
                <li class="fragment">
                    <pre class="fragment"><code data-trim data-noescape>
                Box&lt;A&gt; → ap(Box&lt;B&gt;) → Box&lt;C&gt;
            </code></pre>
                </li>
                <li class="fragment">
                    <pre class="fragment"><code data-trim data-noescape>A → pure() → Box&lt;A&gt;</code></pre>
                </li>
            </ul>
        </section>
        <section>
            <h3>Applicative - <i>Definition</i></h3>
            <pre><code data-trim data-noescape>
                interface Applicative&lt;out A&gt; : Functor&lt;A&gt; {

                  fun &lt;A&gt; pure(a: A): Applicative&lt;A&gt;

                  fun &lt;B&gt; ap(ff: Applicative&lt;(A) -&gt; B&gt;): Applicative&lt;B&gt;

                }
            </code></pre>
        </section>
        <section>
            <h3>Applicative - <i>Option</i></h3>
            <pre><code data-trim data-noescape>
                sealed class Option&lt;out A&gt; : Applicative&lt;A&gt; {
                  ...
                  override fun &lt;A&gt; pure(a: A): Option&lt;A&gt; = Option.Some(a)
                }

                fun &lt;A, B&gt; Option&lt;A&gt;.ap(ff: Option&lt;(A) -&gt; B&gt;): Option&lt;B&gt; = when (this) {
                  is Option.Some -&gt; when (ff) {
                    is Option.Some -&gt; Option.Some(ff.value(value))
                    Option.None -&gt; Option.None
                  }
                  Option.None -&gt; Option.None
                }
            </code></pre>
        </section>
        <section>
            <h3>Applicative - <i>Option</i></h3>
            <pre><code data-trim data-noescape>
            </code></pre>
        </section>
        <section>
            <h3>Applicative - <i>Option</i></h3>
            <pre><code data-trim data-noescape>
            </code></pre>
        </section>
        <section>
            <h3>Applicative - <i>Usage</i></h3>
            <pre><code data-trim data-noescape>
                typealias GetADoctorate = (Person) -&gt; Doctorate

                val howard = Person(&quot;Howard&quot;)

                val getHowardADoctorate : Option&lt;GetADoctorate&gt;

                val doctorate: Option&lt;Doctorate&gt; =
                    Option.Some(howard).ap(getHowardADoctorate)
            </code></pre>
        </section>
        <section data-background-image="assets/images/monad.webp" data-background-opacity="0.15">
            <h1><i>Monad</i></h1>
        </section>
        <section>
            <h3>Monad</h3>
            <p class="fragment"><i>Box smasher</i></p>
            <p class="fragment">method: flatmap()</p>
            <pre class="fragment"><code data-trim data-noescape style="text-align: center">
                Box&lt;Box&lt;A&gt;&gt; → flatmap() → Box&lt;A&gt;
            </code></pre>
        </section>
        <section>
            <h3>Monad - <i>Definition</i></h3>
            <pre><code data-trim data-noescape>
                fun &lt;A, B&gt; Monad&lt;A&gt;.flatMap(transform: (A) -&gt; Monad&lt;B&gt;): Monad&lt;B&gt;
            </code></pre>
        </section>
        <section>
            <h3>Monad - <i>Option</i></h3>
            <pre><code data-trim data-noescape>
                sealed class Option&lt;out A&gt; : Applicative&lt;A&gt; {
                  ...

                  fun &lt;B&gt; flatMap(f: (A) -&gt; Option&lt;B&gt;): Option&lt;B&gt; = when (this) {
                    is Option.Some -&gt; f(value)
                    is Option.None -&gt; this
                  }
                }
            </code></pre>
        </section>
        <section>
            <h3>Monad - <i>Usage</i></h3>
            <pre><code data-trim data-noescape>
                getOption().flatMap(::operation)
                           .flatMap(::otherOperation)
                           .map(println)
            </code></pre>
        </section>
        <section data-background-image="assets/images/future.webp" data-background-opacity="0.15">
            <h1><i>Future</i></h1>
        </section>
        <section>
            <h3>Future ~ Monad <h6>(if pure, in memory)</h6></h3>
            <ul>
                <li class="fragment">Identity</li>
                <li class="fragment">Composition</li>
                <li class="fragment">Associativity</li>
            </ul>
        </section>
        <section>
            <h3>Future - <i>Definition</i></h3>
            <pre><code data-trim data-noescape>
                class Future&lt;out A&gt;(private val task: Deferred&lt;A&gt;) : Applicative&lt;A&gt; {

                  override fun &lt;A&gt; pure(a: A): Future&lt;A&gt;

                  override fun &lt;B&gt; map(transformation: (A) -&gt; B): Future&lt;B&gt;

                  fun &lt;B&gt; flatMap(transform: (A) -&gt; Future&lt;B&gt;): Future&lt;B&gt;

                  fun &lt;B&gt; ap(futureAB: Future&lt;(A) -&gt; B&gt;): Future&lt;B&gt;
                }
            </code></pre>
        </section>
        <section>
            <h3>Future</h3>
            <pre><code data-trim data-noescape>
                class Future&lt;out A&gt;(private val task: Deferred&lt;A&gt;) : Applicative&lt;A&gt; {

                  override fun &lt;A&gt; pure(a: A): Future&lt;A&gt; = Future(GlobalScope.async { a })

                  override fun &lt;B&gt; map(transformation: (A) -&gt; B): Future&lt;B&gt; =
                    flatMap { Future(GlobalScope.async { transformation(it) }) }

                  fun &lt;B&gt; flatMap(transform: (A) -&gt; Future&lt;B&gt;): Future&lt;B&gt; =
                    Future(GlobalScope.async { transform(task.await()).task.await() })

                  fun &lt;B&gt; ap(futureAB: Future&lt;(A) -&gt; B&gt;): Future&lt;B&gt; =
                    Future(GlobalScope.async { futureAB.task.await()(task.await()) })
                }
            </code></pre>
        </section>
        <section data-background-image="assets/images/amy-yeah.webp" data-background-opacity="0.15">

        </section>
        <section data-background-image="assets/images/penny-lost.webp" data-background-opacity="0.15">

        </section>
        <section data-background-image="assets/images/penny-wonderwoman.webp" data-background-opacity="0.15">
            <h1>Daily usage</h1>
        </section>
        <section data-background-image="assets/images/howard-as-sheldon.webp" data-background-opacity="0.15">
            <h1>Transformations</h1>
        </section>
        <section>
            <h3>Functor</h3>
            <pre><code data-trim data-noescape>
                var twitter = null
                if (user != null) {
                  twitter = user.twitter
                }

                // Option&lt;User&gt;
                val twitter = user.map { it.twitter }
                Option.Some(user).map { it.twitter } // Some(“npatarino”)
                Option.None      .map { it.twitter } // None
            </code></pre>
        </section>
        <section data-background-image="assets/images/penny-kiss-sheldon.webp" data-background-opacity="0.15">
            <h1>Error handling</h1>
        </section>
        <section>
            <h3>Exceptions</h3>
            <pre><code data-trim data-noescape>
                public interface Repository {
                    Movie getMovie(String id)
                }

                public void run() {
                     try {
                        final Movie movie = repository.getMovie(&quot;1&quot;);
                          println(movie)
                     } catch (Exception e) {
                        System.out.println(&quot;Ouch! Error: &quot; + e.getLocalizedMessage());
                    }
                }
            </code></pre>
        </section>
        <section>
            <h3>Exceptions</h3>
            <pre><code data-trim data-noescape>
                public interface Repository {
                    Movie getMovie(String id) throws IOException, NoSuchFieldException;
                }

                public void run() {
                     try {
                        final Movie movie = repository.getMovie(&quot;1&quot;);
                          println(movie)
                     } catch (NoSuchFieldException e) {
                          System.out.println(&quot;Not movie found error: &quot; + e.getLocalizedMessage());
                     } catch (IOException e) {
                          System.out.println(&quot;Network error: &quot; + e.getLocalizedMessage());
                    }
                }
            </code></pre>
        </section>
        <section>
            <h3>Exceptions</h3>
            <pre><code data-trim data-noescape>
                public interface Repository {
                    Movie getMovie(String id) throws NetworkException, NotMovieException;
                }

                public void run() {
                     try {
                        final Movie movie = repository.getMovie(&quot;1&quot;);
                          println(movie)
                     } catch (NotMovieException e) {
                          System.out.println(&quot;Not movie found error: &quot; + e.getLocalizedMessage());
                     } catch (NetworkException e) {
                          System.out.println(&quot;Network error: &quot; + e.getLocalizedMessage());
                    }
                }
            </code></pre>
        </section>
        <section>
            <h3>Exceptions</h3>
            <ul>
                <li class="fragment">Very expensive (fillInStackTrace)</li>
                <li class="fragment">Unchecked exceptions</li>
                <li class="fragment">Unsealed hierarchies</li>
                <li class="fragment">More complex flows</li>
                <li class="fragment">Should be exceptional</li>
            </ul>
        </section>
        <section>
            <h3>Exceptions</h3>
            <pre><code data-trim data-noescape>
                public interface Repository {
                    Movie getMovie(String id) throws NetworkException, NotMovieException;
                }

                public void run() {
                     try {
                        final Movie movie = repository.getMovie(&quot;1&quot;);
                          println(movie)
                     } catch (NotMovieException e) {
                          System.out.println(&quot;Not movie found error: &quot; + e.getLocalizedMessage());
                     } catch (NetworkException e) {
                          System.out.println(&quot;Network error: &quot; + e.getLocalizedMessage());
                    }
                }
            </code></pre>
        </section>
        <section>
            <h3>Functor</h3>
            <pre><code data-trim data-noescape>
                interface Repository {
                  fun getMovie(id: String): Either&lt;MovieError, Movie&gt;
                }

                fun getMovie(id: String, repository: Repository) {

                  val movie = repository.getMovieById(id)
                  when (movie) {
                    is Either.Right -&gt; handleSuccess(movie.value)
                    is Either.Left -&gt; handleError()
                  }
                }
            </code></pre>
        </section>
        <section data-background-image="assets/images/independent.webp" data-background-opacity="0.15">
            <h1>Independency</h1>
        </section>
        <section data-background-image="assets/images/validations.webp" data-background-opacity="0.15">
            <h1>Validations</h1>
        </section>
        <section>
            <h3>Currying</h3>
            <ul>
                <ul>
                    <li>
                        \[\begin{aligned}
                        f: (X\;x\;Y) \rightarrow Z \\
                        \end{aligned} \]
                    </li>
                    <li>
                        \[\begin{aligned}
                        (f): X \rightarrow (Y \rightarrow Z) \\
                        \end{aligned} \]
                    </li>
                </ul>
            </ul>
        </section>
        <section>
            <h3>Validations</h3>
            <pre><code data-trim data-noescape data-line-numbers="1-14">
                typealias Validator&lt;L, R&gt; = (R) -&gt; Either&lt;L, R&gt;

                typealias IntValidator =Validator&lt;SpotError, Int&gt;
                typealias BooleanValidator =Validator&lt;SpotError, Boolean&gt;
                typealias DoubleValidator =Validator&lt;SpotError, Double&gt;
            </code></pre>
        </section>
        <section>
            <h3>Validations</h3>
            <pre><code data-trim data-noescape data-line-numbers="1-14">
                val radiatorValidator: IntValidator =
                  createValidator({ isValidDistance(it) }, SpotError.DistanceToRadiator)

                val breezeValidator: BooleanValidator =
                  createValidator({ isValidToBeInBreezePath(it) }, SpotError.NotInBreezePath)

                val tvValidator: DoubleValidator =
                  createValidator({ isValidAngleToTv(it) }, SpotError.BadTvAngle)

                val spot = (tvValidator(53.00))   ap
                           (breezeValidator(true) ap
                           (radiatorValidator(5).map(
                             ::Spot.curried()
                           )))
            </code></pre>
        </section>
        <section>
            <h3>Validations</h3>
            <pre><code data-trim data-noescape data-line-numbers="10-14">
                val radiatorValidator: IntValidator =
                  createValidator({ isValidDistance(it) }, SpotError.DistanceToRadiator)

                val breezeValidator: BooleanValidator =
                  createValidator({ isValidToBeInBreezePath(it) }, SpotError.NotInBreezePath)

                val tvValidator: DoubleValidator =
                  createValidator({ isValidAngleToTv(it) }, SpotError.BadTvAngle)

                val spot = (tvValidator(53.00))   ap
                           (breezeValidator(true) ap
                           (radiatorValidator(5).map(
                             ::Spot.curried()
                           )))
            </code></pre>
        </section>
        <section>
            <h3>This is not readable</h3>
            <pre><code data-trim data-noescape data-line-numbers="10-14">
                val radiatorValidator: IntValidator =
                  createValidator({ isValidDistance(it) }, SpotError.DistanceToRadiator)

                val breezeValidator: BooleanValidator =
                  createValidator({ isValidToBeInBreezePath(it) }, SpotError.NotInBreezePath)

                val tvValidator: DoubleValidator =
                  createValidator({ isValidAngleToTv(it) }, SpotError.BadTvAngle)

                val spot = (tvValidator(53.00))   ap
                           (breezeValidator(true) ap
                           (radiatorValidator(5).map(
                             ::Spot.curried()
                           )))
            </code></pre>
        </section>
        <section>
            <h3>This is not readable</h3>
            <pre><code data-trim data-noescape data-line-numbers="10-14">
                val radiatorValidator: IntValidator =
                  createValidator({ isValidDistance(it) }, SpotError.DistanceToRadiator)

                val breezeValidator: BooleanValidator =
                  createValidator({ isValidToBeInBreezePath(it) }, SpotError.NotInBreezePath)

                val tvValidator: DoubleValidator =
                  createValidator({ isValidAngleToTv(it) }, SpotError.BadTvAngle)

                val spot = (tvValidator(53.00))   ap
                           (breezeValidator(true) ap
                           (radiatorValidator(5).map(
                             ::Spot.curried()
                           )))
            </code></pre>
        </section>
        <section>
            <h3>This is not
                <del>readable</del>
                familiar
            </h3>
            <pre><code data-trim data-noescape>
                val radiatorValidator: IntValidator = createValidator({ isValidDistance(it) }, DistanceToRadiator)

                val breezeValidator: BooleanValidator = createValidator({ isValidToBeInBreezePath(it) }, NotInBreezePath)

                val tvValidator: DoubleValidator = createValidator({ isValidAngleToTv(it) }, BadTvAngle)

                val spot = (tvValidator(53.00))   ap
                           (breezeValidator(true) ap
                           (radiatorValidator(5).map(
                             ::Spot.curried()
                           )))
            </code></pre>
        </section>
        <section data-background-image="assets/images/guys-lost.webp" data-background-opacity="0.15">
            <h1>Dependency</h1>
        </section>
        <section data-background-image="assets/images/virtual-device.webp" data-background-opacity="0.15">
            <h1>Mobile Virtual Presence Device</h1>
        </section>
        <section>
            <h3>Shelbot</h3>
            <ul>
                <li class="fragment">Buy hardware → Hardware</li>
                <li class="fragment">Assemble hardware → Device</li>
                <li class="fragment">Connect device to Internet → Robot</li>
                <li class="fragment">Put T-Shirt to robot → Shelbot</li>
            </ul>
        </section>
        <section>
            <h3>Shelbot</h3>
            <pre><code data-trim data-noescape>
                var shelbot: Sheldon? = null
                val hardware = buyHardware()
                if (hardware != null) {
                  val device = assemble(hardware)
                  if (device != null) {
                    val robot = connectToInternet(device)
                    if (robot != null) {
                      shelbot = putTShirt(robot)
                    }
                  }
                }
            </code></pre>
        </section>
        <section>
            <h3>Shelbot</h3>
            <pre><code data-trim data-noescape>
                val shelbot: Option&lt;Sheldon&gt; =
                  buyHardware().flatMap { hardware ->
                    assemble(hardware).flatMap { device ->
                      connectToInternet(device).flatMap { robot ->
                        putTShirt(robot)
                      }
                    }
                  }
            </code></pre>
        </section>
        <section>
            <h3>Monad comprehensions</h3>
            <pre><code data-trim data-noescape>
                binding {
                  val (hardware)      = buyHardware()
                  val (device)        = assemble(hardware)
                  val (robot)         = connectToInternet(device)
                  val (shelbot)       = putTShirt(robot)
                  shelbot
                }
            </code></pre>
        </section>
        <section data-background-image="assets/images/arrow.webp"></section>
        <section>
            <h3>Sum up</h3>
            <ul>
                <li class="fragment">Typeclases ~ Design patterns 😮🤫</li>
                <li class="fragment">Monoid
                    <ul class="fragment">
                        <li>Combiner</li>
                    </ul>
                </li>
                <li class="fragment">Functor
                    <ul class="fragment">
                        <li>Transformer</li>
                    </ul>
                </li>
                <li class="fragment">Applicative
                    <ul class="fragment">
                        <li>Box combiner</li>
                    </ul>
                </li>
                <li class="fragment">Monad
                    <ul class="fragment">
                        <li>Box smasher</li>
                    </ul>
                </li>
                <li class="fragment">Future == Monad
                    <ul class="fragment">
                        <li>If pure, in memory</li>
                    </ul>
                </li>
            </ul>
        </section>
        <section data-background-image="assets/images/sheldon_board.webp" data-background-opacity="0.15">
            <h1>Conclusion</h1>
        </section>
        <section data-background-image="assets/images/jenga.webp" data-background-opacity="0.15">
            <h1>Carpenter - Advanced trigonometry</h1>
        </section>
        <section data-background-image="assets/images/workers.webp" data-background-opacity="0.15">
            <h1>Miner - biology</h1>
        </section>
        <section data-background-image="assets/images/pop-machine.webp" data-background-opacity="0.15">
            <h1>X-Space Toilet - Gastric juice</h1>
        </section>
        <section>
            <h3>Last things</h3>
            <ul>
                <li class="fragment">Zygohistomorphic prepromorphisms</li>
                <li class="fragment">Yoneda Lemma</li>
                <li class="fragment">Symmetric monoidal category</li>
            </ul>
        </section>
        <section data-background-color="#f40000" data-audio-src="assets/audio/bazinga.ogg">
            <img src="assets/images/bazinga.png" width="600px">
        </section>
        <section data-background-image="assets/images/ouh-yeah.webp" data-background-opacity="0.15"
                 data-transition="slide-in none-out">
            <blockquote>A monad is just a monoid in the category of endofunctors.</blockquote>
        </section>
        <section data-background-image="assets/images/ouh-yeah.webp" data-background-opacity="0.15"
                 data-transition="none-in slide-out">
            <blockquote>
                A <b>monad</b> is just a
                <b>monoid (combine + empty)</b>
                in the category of
                <b>endofunctors (~ functor) (map)</b>
                <b>(flatMap)</b>
            </blockquote>
        </section>
        <section data-background-image="assets/images/questions.png"></section>
    </div>
</div>

<script src="js/reveal.js"></script>

<script>
    Reveal.initialize({
        width: 2560,
        height: 1440,
        controls: false,
        transition: 'slide',
        backgroundTransition: 'slide',
        touch: true,
        progress: true,
        history: true,
        viewDistance: 3,
        margin: 0.1,
        minScale: 0.2,
        maxScale: 1.5,
        dependencies: [
            {src: 'plugin/markdown/marked.js'},
            {src: 'plugin/markdown/markdown.js'},
            {src: 'plugin/notes/notes.js', async: true},
            {src: 'plugin/highlight/highlight.js', async: true},
            {src: 'plugin/math/math.js', async: true},
            {
                src: 'plugin/audio-slideshow/audio-slideshow.js', condition: function () {
                    return !!document.body.classList;
                }
            }
        ]
    });
</script>
</body>
</html>
